<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Registro de Acudiente</title>
  <link rel="stylesheet" href="form_historial.css">
</head>
<body>
  <div class="formulario">
    <h2>Registro del Historial Academico</h2>
    <form id="formulario" class="" action="form_historial.php" method="post" onsubmit="return validarFormulario()">
      <p>GRADO</p>
      <select id="grado" name="grado">
        <option value="" disabled selected>Grado</option>
        <option value="PREESCOLAR">PREESCOLAR</option>
        <option value="PRIMERO">PRIMERO</option>
        <option value="SEGUNDO">SEGUNDO</option>
        <option value="TERCERO">TERCERO</option>
        <option value="CUARTO">CUARTO</option>
        <option value="QUINTO">QUINTO</option>
        <option value="SEXTO">SEXTO</option>
        <option value="SEPTIMO">SEPTIMO</option>
        <option value="OCTAVO">OCTAVO</option>
        <option value="NOVENO">NOVENO</option>
        <option value="DECIMO">DECIMO</option>
        <option value="UNDECIMO">UNDECIMO</option>
      </select>
      <p>Institucion donde curso</p>
      <input type="text" name="institucion" placeholder="Institucion Educativa a la que pertenecio" required>
      <p>Año</p>
      <input type="text" name="ano" placeholder="Año cursado" required>
      <button type="submit">Añadir grado</button>
    </form>
    <form action="/sql/ADMINISTRATIVO/PAGO_MATRICULA/form_pago_matricula.html">
      <button type="submit">Siguiente</button>
    </form>
    <div id="error-message" style="color: red;"></div>
    <div id="success-message" style="color: green; display: none;">¡Historial registrado correctamente!</div>
  </div>

  <script>
    function validarFormulario() {
      var institucion = document.getElementsByName("institucion")[0].value.trim();
      var ano = document.getElementsByName("ano")[0].value.trim();
      var errorMessage = "";

      if (/\d/.test(institucion)) {
        errorMessage += "El campo 'Institución Educativa' no puede contener números.<br>";
      }
      var currentYear = (new Date()).getFullYear();
      if (!/^\d{4}$/.test(ano) || ano > currentYear) {
        errorMessage += "Ingrese un año válido no mayor al presente.<br>";
      }
/*
      // Mostrar mensaje de error si hay alguno
      if (errorMessage !== "") {
        document.getElementById("error-message").innerHTML = errorMessage;
        document.getElementById("success-message").style.display = "none"; // Ocultar mensaje de éxito
        return false; // Detener el envío del formulario
      } else {
        // Mostrar mensaje de éxito y limpiar formulario
        document.getElementById("success-message").style.display = "block";
        document.getElementById("error-message").innerHTML = ""; // Limpiar mensajes de error
        document.getElementById("formulario").reset(); 
        return true; 
      }*/
    }
  </script>
</body>
</html>
